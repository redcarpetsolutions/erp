<div ng-controller="BesoinsController" layout="column" ng-cloak>
    <md-toolbar>
        <toolbar></toolbar>
    </md-toolbar>
    <div layout="row">
        <md-sidenav class="md-sidenav-left" md-is-locked-open="true" md-whiteframe="4">
            <md-content layout-padding>
                <menu></menu>
            </md-content>
        </md-sidenav>
        <md-content layout="column" flex layout-padding>
            <h1> {{besoin.title}} </h1>
            <md-content layout="column">
                <p>{{besoin.description}}</p>
                <div ng-if="besoin.propositions && besoin.propositions.length>0">
                    <p> Liste des Consultants deja proposer </p>
                    <table class="data-table">
                        <tr>
                            <td>Photo</td>
                            <td>Nom Prenom</td>
                            <td>Experience</td>
                            <td>Competence</td>
                        </tr>

                        <tr ng-repeat="c in besoin.propositions">
                            <td><img ng-src="{{c.consultant.picture}}" style="height:128px">
                            </td>
                            <td>{{c.consultant.firstName}} {{c.consultant.lastName}}</td>
                            <td>{{c.consultant.experience}}</td>
                            <td>
                                <p ng-repeat="s in c.consultant.skills">
                                    {{s.title}}
                                </p>
                            </td>
                        </tr>
                    </table>
                </div>
                <md-button class="md-raised md-primary" ui-sref="besoins">Retour</md-button>
            </md-content>
        </md-content>
    </div>
</div>